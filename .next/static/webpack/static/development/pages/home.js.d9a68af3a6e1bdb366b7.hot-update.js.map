{"version":3,"file":"static/webpack/static/development/pages/home.js.d9a68af3a6e1bdb366b7.hot-update.js","sources":["webpack:///./containers/RoomApp/RoomApp.js"],"sourcesContent":["import React, {Component} from 'react';\nimport RoomList from '../../components/RoomList/RoomList';\nimport \"./RoomApp.css\";\n\nconst roomArr = ['room1','room2', 'room3', 'room4'];\n\nclass RoomApp extends Component {\n   constructor(props){\n       super(props);\n        this.state  = {\n            roomData : {}\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n   }\n\n   getRoomDefaultData = () => {\n      var newObj = roomArr.reduce(function(obj,v,i){\n        obj[v] = {\n            enabled : i > 0 ? false : true,\n            key : v+\"-key\",\n            name : \"Room \" + (i+1),\n            data : {\n                \"adultCount\" : 1,\n                \"childrenCount\" : 0\t\n            }\n        };\n        return obj;\n    }, {});\n    return newObj;\n   }\n\n   componentDidMount(){\n        var data = {};\n        if(localStorage && localStorage.getItem('roomData')){\n            data = JSON.parse(localStorage.getItem('roomData'));\n        } else {\n            data = this.getRoomDefaultData();\n        }\n\n        this.setState({\n            roomData : data \n        }); \n    }\n\n   handleSubmit(){\n       localStorage.setItem('roomData',JSON.stringify(this.state.roomData));\n       alert(\"Hi User, Your data has been recorded!\");\n   }\n\n   setRoomStatus = (roomArrData,status) => {\n    let updatedState = {...this.state.roomData};\n    roomArrData.forEach((v,i) => {\n        let roomObj = {...this.state.roomData[v]};\n        roomObj[\"enabled\"] = status;\n        roomObj[\"data\"] = {adultCount : 1 , childrenCount : 0}\n        updatedState[v] = roomObj;\n    });\n    this.setState({\n        roomData : updatedState\n    });\n\n   }\n\n   checkChangeHandler = (key,event) => {\n    let checked = event.target.checked;\n    let newRoomArr = [...roomArr];\n    newRoomArr.shift();\n    if(checked){\n      let updatedArr =  newRoomArr.filter(function(v){\n            return (newRoomArr.indexOf(v) <= newRoomArr.indexOf(key))\n        });\n        this.setRoomStatus(updatedArr,true )\n\n    } else {\n        let updatedArr =  newRoomArr.filter(function(v){\n            return (newRoomArr.indexOf(v) >= newRoomArr.indexOf(key))\n        });\n        this.setRoomStatus(updatedArr, false )\n    }\n\n   }\n\n   updatePersonHandler = (event,type,comp) => {\n    let selectValue = event.target.value;\n    let updatedState =  {...this.state.roomData};\n    let updatedRoomObj = {...this.state.roomData[type]};\n    updatedRoomObj[\"data\"][comp] = selectValue;\n    updatedState[type] = updatedRoomObj;\n    this.setState({\n        roomData : updatedState\n    })\n   }\n\n   render(){\n       return (\n         <div className = \"roomApp\">\n             <RoomList data = {this.state.roomData} checkChangeHandler = {this.checkChangeHandler} updatePersonHandler =\n             {this.updatePersonHandler} /> \n             <button className = \"submitDetails\" onClick = {this.handleSubmit}>Submit</button>\n             \n           </div>\n       )\n   }\n\n}\n\nexport default RoomApp;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAJA;AASA;AACA;AACA;AACA;AACA;AAxBA;AA4CA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAxDA;AA0DA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AA3EA;AA6EA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AApFA;AACA;AADA;AAGA;AALA;AAOA;AACA;;;AAiBA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;;;AA8CA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAjGA;AACA;AAoGA;;;;A","sourceRoot":""}