{"ast":null,"code":"function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport RoomList from '../../components/RoomList/RoomList';\nvar roomArr = ['room1', 'room2', 'room3', 'room4'];\n\nvar RoomApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RoomApp, _Component);\n\n  function RoomApp(props) {\n    var _this;\n\n    _classCallCheck(this, RoomApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RoomApp).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getRoomDefaultData\", function () {\n      var newObj = roomArr.reduce(function (obj, v, i) {\n        obj[v] = {\n          enabled: i > 0 ? false : true,\n          key: v + \"-key\",\n          name: \"Room \" + (i + 1),\n          data: {\n            \"adultCount\": 1,\n            \"childrenCount\": 0\n          }\n        };\n        return obj;\n      }, {});\n      return newObj;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setRoomStatus\", function (roomArrData, status) {\n      var updatedState = _objectSpread({}, _this.state.roomData);\n\n      roomArrData.forEach(function (v, i) {\n        var roomObj = _objectSpread({}, _this.state.roomData[v]);\n\n        roomObj[\"enabled\"] = status;\n        roomObj[\"data\"] = {\n          adultCount: 1,\n          childrenCount: 0\n        };\n        updatedState[v] = roomObj;\n      });\n\n      _this.setState({\n        roomData: updatedState\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkChangeHandler\", function (key, event) {\n      var checked = event.target.checked;\n      var newRoomArr = [].concat(roomArr);\n\n      var tempState = _objectSpread({}, _this.state.roomData);\n\n      newRoomArr.shift();\n\n      if (checked) {\n        var updatedArr = newRoomArr.filter(function (v) {\n          return newRoomArr.indexOf(v) <= newRoomArr.indexOf(key) && !tempState[v][\"enabled\"];\n        });\n\n        _this.setRoomStatus(updatedArr, true);\n      } else {\n        var _updatedArr = newRoomArr.filter(function (v) {\n          return newRoomArr.indexOf(v) >= newRoomArr.indexOf(key) && tempState[v][\"enabled\"];\n        });\n\n        _this.setRoomStatus(_updatedArr, false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePersonHandler\", function (event, type, comp) {\n      var selectValue = event.target.value;\n\n      var updatedState = _objectSpread({}, _this.state.roomData);\n\n      var updatedRoomObj = _objectSpread({}, _this.state.roomData[type]);\n\n      updatedRoomObj[\"data\"][comp] = selectValue;\n      updatedState[type] = updatedRoomObj;\n\n      _this.setState({\n        roomData: updatedState\n      });\n    });\n\n    _this.state = {\n      roomData: {}\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(RoomApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data = {};\n\n      if (localStorage && localStorage.getItem('roomData')) {\n        data = JSON.parse(localStorage.getItem('roomData'));\n      } else {\n        data = this.getRoomDefaultData();\n      }\n\n      this.setState({\n        roomData: data\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      localStorage.setItem('roomData', JSON.stringify(this.state.roomData));\n      alert(\"Hi User, Your data has been recorded!\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"roomApp\"\n      }, React.createElement(RoomList, {\n        data: this.state.roomData,\n        checkChangeHandler: this.checkChangeHandler,\n        updatePersonHandler: this.updatePersonHandler\n      }), React.createElement(\"button\", {\n        className: \"submitDetails\",\n        onClick: this.handleSubmit\n      }, \"Submit\"));\n    }\n  }]);\n\n  return RoomApp;\n}(Component);\n\nexport default RoomApp;","map":{"version":3,"sources":["/Users/yaminisukhija/roomjs-app/containers/RoomApp/RoomApp.js"],"names":["React","Component","RoomList","roomArr","RoomApp","props","newObj","reduce","obj","v","i","enabled","key","name","data","roomArrData","status","updatedState","state","roomData","forEach","roomObj","adultCount","childrenCount","setState","event","checked","target","newRoomArr","tempState","shift","updatedArr","filter","indexOf","setRoomStatus","type","comp","selectValue","value","updatedRoomObj","handleSubmit","bind","localStorage","getItem","JSON","parse","getRoomDefaultData","setItem","stringify","alert","checkChangeHandler","updatePersonHandler"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport RoomList from '../../components/RoomList/RoomList';\n\nconst roomArr = ['room1','room2', 'room3', 'room4'];\n\nclass RoomApp extends Component {\n   constructor(props){\n       super(props);\n        this.state  = {\n            roomData : {}\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n   }\n\n   getRoomDefaultData =()=> {\n      var newObj = roomArr.reduce(function(obj,v,i){\n        obj[v] = {\n            enabled : i > 0 ? false : true,\n            key : v+\"-key\",\n            name : \"Room \" + (i+1),\n            data : {\n                \"adultCount\" : 1,\n                \"childrenCount\" : 0\t\n            }\n        };\n        return obj;\n    }, {});\n    return newObj;\n   }\n\n   componentDidMount(){\n        var data = {};\n        if(localStorage && localStorage.getItem('roomData')){\n            data = JSON.parse(localStorage.getItem('roomData'));\n        } else {\n            data = this.getRoomDefaultData();\n        }\n\n        this.setState({\n            roomData : data \n        }); \n    }\n\n   handleSubmit(){\n       localStorage.setItem('roomData',JSON.stringify(this.state.roomData));\n       alert(\"Hi User, Your data has been recorded!\");\n   }\n\n   setRoomStatus = (roomArrData,status) => {\n    let updatedState = {...this.state.roomData};\n    roomArrData.forEach((v,i) => {\n        let roomObj = {...this.state.roomData[v]};\n        roomObj[\"enabled\"] = status;\n        roomObj[\"data\"] = {adultCount : 1 , childrenCount : 0}\n        updatedState[v] = roomObj;\n    });\n    this.setState({\n        roomData : updatedState\n    });\n\n   }\n\n   checkChangeHandler = (key,event) => {\n    let checked = event.target.checked;\n    let newRoomArr = [...roomArr];\n    let tempState = {...this.state.roomData};\n    newRoomArr.shift();\n    if(checked){\n      let updatedArr =  newRoomArr.filter(function(v){\n            return ((newRoomArr.indexOf(v) <= newRoomArr.indexOf(key)) && !tempState[v][\"enabled\"])\n        });\n        this.setRoomStatus(updatedArr,true )\n\n    } else {\n        let updatedArr =  newRoomArr.filter(function(v){\n            return (newRoomArr.indexOf(v) >= newRoomArr.indexOf(key) && tempState[v][\"enabled\"] );\n        });\n        this.setRoomStatus(updatedArr, false )\n    }\n\n   }\n\n   updatePersonHandler = (event,type,comp) => {\n    let selectValue = event.target.value;\n    let updatedState =  {...this.state.roomData};\n    let updatedRoomObj = {...this.state.roomData[type]};\n    updatedRoomObj[\"data\"][comp] = selectValue;\n    updatedState[type] = updatedRoomObj;\n    this.setState({\n        roomData : updatedState\n    })\n   }\n\n   render(){\n       return (\n         <div className = \"roomApp\">\n             <RoomList data = {this.state.roomData} checkChangeHandler = {this.checkChangeHandler} updatePersonHandler =\n             {this.updatePersonHandler} /> \n             <button className = \"submitDetails\" onClick = {this.handleSubmit}>Submit</button>\n             \n           </div>\n       )\n   }\n\n}\n\nexport default RoomApp;"]},"metadata":{},"sourceType":"module"}