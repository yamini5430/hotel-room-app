{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/yaminisukhija/roomjs-app/containers/RoomApp/RoomApp.js\";\nimport React, { Component } from 'react';\nimport RoomList from '../../components/RoomList/RoomList';\nimport \"./RoomApp.css\";\nvar roomArr = ['room1', 'room2', 'room3', 'room4'];\n\nvar RoomApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RoomApp, _Component);\n\n  function RoomApp(props) {\n    var _this;\n\n    _classCallCheck(this, RoomApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RoomApp).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getRoomDefaultData\", function () {\n      var newObj = roomArr.reduce(function (obj, v, i) {\n        obj[v] = {\n          enabled: i > 0 ? false : true,\n          key: v + \"-key\",\n          name: \"Room \" + (i + 1),\n          data: {\n            \"adultCount\": 1,\n            \"childrenCount\": 0\n          }\n        };\n        return obj;\n      }, {});\n      return newObj;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setRoomStatus\", function (roomArrData, status) {\n      var updatedState = _objectSpread({}, _this.state.roomData);\n\n      console.log(\"arrRoom\", roomArrData);\n      roomArrData.forEach(function (v, i) {\n        var roomObj = _objectSpread({}, _this.state.roomData[v]);\n\n        roomObj[\"enabled\"] = status;\n        roomObj[\"data\"] = {\n          adultCount: 1,\n          childrenCount: 0\n        };\n        updatedState[v] = roomObj;\n      });\n\n      _this.setState({\n        roomData: updatedState\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkChangeHandler\", function (key, event) {\n      console.log(\"checkChangeHandler\", key, event.target.checked);\n      var checked = event.target.checked;\n      var newRoomArr = [].concat(roomArr);\n      newRoomArr.shift();\n\n      if (checked) {\n        var updatedArr = newRoomArr.filter(function (v) {\n          return newRoomArr.indexOf(v) <= newRoomArr.indexOf(key);\n        });\n\n        _this.setRoomStatus(updatedArr, true);\n      } else {\n        var _updatedArr = newRoomArr.filter(function (v) {\n          return newRoomArr.indexOf(v) >= newRoomArr.indexOf(key);\n        });\n\n        _this.setRoomStatus(_updatedArr, false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePersonHandler\", function (event, type, comp) {\n      console.log(\"updatePersonHandler\", event.target.value, type, comp);\n      var selectValue = event.target.value;\n\n      var updatedState = _objectSpread({}, _this.state.roomData);\n\n      var updatedRoomObj = _objectSpread({}, _this.state.roomData[type]);\n\n      updatedRoomObj[\"data\"][comp] = selectValue;\n      updatedState[type] = updatedRoomObj;\n\n      _this.setState({\n        roomData: updatedState\n      });\n    });\n\n    _this.state = {\n      roomData: {},\n      loading: true\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(RoomApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data = {};\n\n      if (localStorage && localStorage.getItem('roomData')) {\n        data = JSON.parse(localStorage.getItem('roomData'));\n      } else {\n        data = this.getRoomDefaultData();\n      }\n\n      this.setState({\n        roomData: data\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      localStorage.setItem('roomData', _JSON$stringify(this.state.roomData));\n      alert(\"Hi User, Your data has been recorded!\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"roomApp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(RoomList, {\n        data: this.state.roomData,\n        checkChangeHandler: this.checkChangeHandler,\n        updatePersonHandler: this.updatePersonHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"submitDetails\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, this.state.loading ? React.createElement(\"img\", {\n        src: \"../../static/loader.gif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }) : Submit));\n    }\n  }]);\n\n  return RoomApp;\n}(Component);\n\nexport default RoomApp;","map":{"version":3,"sources":["/Users/yaminisukhija/roomjs-app/containers/RoomApp/RoomApp.js"],"names":["React","Component","RoomList","roomArr","RoomApp","props","newObj","reduce","obj","v","i","enabled","key","name","data","roomArrData","status","updatedState","state","roomData","console","log","forEach","roomObj","adultCount","childrenCount","setState","event","target","checked","newRoomArr","shift","updatedArr","filter","indexOf","setRoomStatus","type","comp","value","selectValue","updatedRoomObj","loading","handleSubmit","bind","localStorage","getItem","JSON","parse","getRoomDefaultData","setItem","alert","checkChangeHandler","updatePersonHandler","Submit"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport RoomList from '../../components/RoomList/RoomList';\nimport \"./RoomApp.css\";\n\nconst roomArr = ['room1','room2', 'room3', 'room4'];\n\nclass RoomApp extends Component {\n   constructor(props){\n       super(props);\n        this.state  = {\n            roomData : {},\n            loading : true\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n   }\n\n   getRoomDefaultData = () => {\n      var newObj = roomArr.reduce(function(obj,v,i){\n        obj[v] = {\n            enabled : i > 0 ? false : true,\n            key : v+\"-key\",\n            name : \"Room \" + (i+1),\n            data : {\n                \"adultCount\" : 1,\n                \"childrenCount\" : 0\t\n            }\n        };\n        return obj;\n    }, {});\n    return newObj;\n   }\n\n   componentDidMount(){\n        var data = {};\n        if(localStorage && localStorage.getItem('roomData')){\n            data = JSON.parse(localStorage.getItem('roomData'));\n        } else {\n            data = this.getRoomDefaultData();\n        }\n\n        this.setState({\n            roomData : data \n        }); \n    }\n\n   handleSubmit(){\n       localStorage.setItem('roomData',JSON.stringify(this.state.roomData));\n       alert(\"Hi User, Your data has been recorded!\");\n   }\n\n   setRoomStatus = (roomArrData,status) => {\n    let updatedState = {...this.state.roomData};\n    console.log(\"arrRoom\", roomArrData);\n    roomArrData.forEach((v,i) => {\n        let roomObj = {...this.state.roomData[v]};\n        roomObj[\"enabled\"] = status;\n        roomObj[\"data\"] = {adultCount : 1 , childrenCount : 0}\n        updatedState[v] = roomObj;\n    });\n    this.setState({\n        roomData : updatedState\n    });\n\n   }\n\n   checkChangeHandler = (key,event) => {\n    console.log(\"checkChangeHandler\", key,event.target.checked);\n    let checked = event.target.checked;\n    let newRoomArr = [...roomArr];\n    newRoomArr.shift();\n    if(checked){\n      let updatedArr =  newRoomArr.filter(function(v){\n            return (newRoomArr.indexOf(v) <= newRoomArr.indexOf(key))\n        });\n        this.setRoomStatus(updatedArr,true )\n\n    } else {\n        let updatedArr =  newRoomArr.filter(function(v){\n            return (newRoomArr.indexOf(v) >= newRoomArr.indexOf(key))\n        });\n        this.setRoomStatus(updatedArr, false )\n    }\n\n   }\n\n   updatePersonHandler = (event,type,comp) => {\n    console.log(\"updatePersonHandler\", event.target.value,type,comp);\n    let selectValue = event.target.value;\n    let updatedState =  {...this.state.roomData};\n    let updatedRoomObj = {...this.state.roomData[type]};\n    updatedRoomObj[\"data\"][comp] = selectValue;\n    updatedState[type] = updatedRoomObj;\n    this.setState({\n        roomData : updatedState\n    })\n   }\n\n   render(){\n       return (\n         <div className = \"roomApp\">\n             <RoomList data = {this.state.roomData} checkChangeHandler = {this.checkChangeHandler} updatePersonHandler =\n             {this.updatePersonHandler} /> \n             <button className = \"submitDetails\" onClick = {this.handleSubmit}>{this.state.loading ? <img src = \"../../static/loader.gif\"/>  : Submit}</button>\n             \n           </div>\n       )\n   }\n\n}\n\nexport default RoomApp;"]},"metadata":{},"sourceType":"module"}