{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport RoomList from '../../components/RoomList/RoomList';\nimport \"./RoomApp.css\";\nvar roomArr = ['room1', 'room2', 'room3', 'room4'];\n\nvar RoomApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RoomApp, _Component);\n\n  function RoomApp(props) {\n    var _this;\n\n    _classCallCheck(this, RoomApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RoomApp).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getRoomDefaultData\", function () {\n      var newObj = roomArr.reduce(function (obj, v, i) {\n        obj[v] = {\n          enabled: i > 0 ? false : true,\n          key: v + \"-key\",\n          name: \"Room \" + (i + 1),\n          data: {\n            \"adultCount\": 1,\n            \"childrenCount\": 0\n          }\n        };\n        return obj;\n      }, {});\n      return newObj;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setRoomStatus\", function (roomArrData, status) {\n      var updatedState = _objectSpread({}, _this.state.roomData);\n\n      console.log(\"arrRoom\", roomArrData);\n      roomArrData.forEach(function (v, i) {\n        var roomObj = _objectSpread({}, _this.state.roomData[v]);\n\n        roomObj[\"enabled\"] = status;\n        roomObj[\"data\"] = {\n          adultCount: 1,\n          childrenCount: 0\n        };\n        updatedState[v] = roomObj;\n      });\n\n      _this.setState({\n        roomData: updatedState\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkChangeHandler\", function (key, event) {\n      console.log(\"checkChangeHandler\", key, event.target.checked);\n      var checked = event.target.checked;\n      var newRoomArr = [].concat(roomArr);\n      newRoomArr.shift();\n\n      if (checked) {\n        var updatedArr = newRoomArr.filter(function (v) {\n          return newRoomArr.indexOf(v) <= newRoomArr.indexOf(key);\n        });\n\n        _this.setRoomStatus(updatedArr, true);\n      } else {\n        var _updatedArr = newRoomArr.filter(function (v) {\n          return newRoomArr.indexOf(v) >= newRoomArr.indexOf(key);\n        });\n\n        _this.setRoomStatus(_updatedArr, false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePersonHandler\", function (event, type, comp) {\n      console.log(\"updatePersonHandler\", event.target.value, type, comp);\n      var selectValue = event.target.value;\n\n      var updatedState = _objectSpread({}, _this.state.roomData);\n\n      var updatedRoomObj = _objectSpread({}, _this.state.roomData[type]);\n\n      updatedRoomObj[\"data\"][comp] = selectValue;\n      updatedState[type] = updatedRoomObj;\n\n      _this.setState({\n        roomData: updatedState\n      });\n    });\n\n    _this.state = {\n      roomData: {}\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(RoomApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data = {};\n\n      if (localStorage && localStorage.getItem('roomData')) {\n        data = JSON.parse(localStorage.getItem('roomData'));\n      } else {\n        data = this.getRoomDefaultData();\n      }\n\n      this.setState({\n        roomData: data\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      localStorage.setItem('roomData', _JSON$stringify(this.state.roomData));\n      alert(\"Hi User, Your data has been recorded!\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"roomApp\"\n      }, React.createElement(RoomList, {\n        data: this.state.roomData,\n        checkChangeHandler: this.checkChangeHandler,\n        updatePersonHandler: this.updatePersonHandler\n      }), React.createElement(\"button\", {\n        className: \"submitDetails\",\n        onClick: this.handleSubmit\n      }, \"Submit\"));\n    }\n  }]);\n\n  return RoomApp;\n}(Component);\n\nexport default RoomApp;","map":null,"metadata":{},"sourceType":"module"}